<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חידונים מרתקים</title>
    <link href="https://fonts.googleapis.com/css2?family=Alef:wght@400;700&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Rubik', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f3e9;
            color: #5e35b1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            direction: rtl;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

            header h1 {
                font-family: 'Alef', sans-serif;
                font-size: 3em;
                margin: 0;
                color: #4527a0;
            }

        .setup-container, .quiz-container, .score-report {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            text-align: center;
        }

            .setup-container h2, .quiz-container h2, .score-report h3 {
                font-family: 'Alef', sans-serif;
                font-size: 1.8em;
                margin-bottom: 20px;
                color: #3e2723;
            }

        .question {
            font-family: 'Rubik', sans-serif;
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #3e2723;
        }

        .options button {
            font-family: 'Rubik', sans-serif;
            background-color: #7e57c2;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

            .options button:hover {
                background-color: #5e35b1;
            }

        .feedback {
            font-family: 'Rubik', sans-serif;
            font-size: 1.2em;
            margin-top: 20px;
            display: none;
        }

        .score-report {
            display: none;
            text-align: center;
            font-family: 'Alef', sans-serif;
            font-size: 1.5em;
            margin-top: 20px;
            color: #4527a0;
        }

            .score-report h3 {
                font-size: 2em;
                margin-bottom: 10px;
            }

            .score-report p {
                font-size: 1.2em;
                margin: 5px 0;
            }

            .score-report .summary {
                background-color: #e0f7fa;
                padding: 15px;
                border-radius: 10px;
                margin-top: 20px;
                text-align: left;
            }

        footer {
            margin-top: 30px;
            font-family: 'Alef', sans-serif;
            font-size: 0.9em;
            color: #311b92;
        }

            footer p {
                margin: 0;
            }
    </style>
</head>
<body>
    <header>
        <h1>חידונים מרתקים</h1>
    </header>

    <div class="setup-container">
        <h2>ברוכים הבאים לחידון המשפחתי!</h2>
        <p>בחרו את מספר השאלות ואת רמת הקושי:</p>
        <label for="num-questions">כמות שאלות:</label>
        <select id="num-questions">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
        </select>
        <br><br>
        <label for="difficulty">רמת קושי:</label>
        <select id="difficulty">
            <option value="all">כל הרמות</option>
            <option value="easy">קלה</option>
            <option value="medium">בינונית</option>
            <option value="hard">קשה</option>
        </select>
        <br><br>
        <label for="player-names">שמות השחקנים (מופרדים בפסיק):</label>
        <input type="text" id="player-names" placeholder="הכנס שמות...">
        <br><br>
        <button onclick="startQuiz()">התחל חידון</button>
    </div>

    <div class="quiz-container" style="display: none;">
        <h2>מוכנים לאתגר?</h2>
        <div id="current-player" style="margin-bottom: 15px; font-weight: bold;"></div>
        <div class="question" id="question">שאלה תופיע כאן...</div>
        <div class="options">
            <button onclick="checkAnswer(1)">אפשרות 1</button>
            <button onclick="checkAnswer(2)">אפשרות 2</button>
            <button onclick="checkAnswer(3)">אפשרות 3</button>
            <button onclick="checkAnswer(4)">אפשרות 4</button>
        </div>
        <div class="feedback" id="feedback"></div>
    </div>

    <div class="score-report" id="score-report"></div>

    <footer>
        <p>© 2024 כל הזכויות שמורות. חידונים מרתקים.</p>
    </footer>

    <script>
        const questions = [
            { question: "מהי בירת צרפת?", options: ["לונדון", "ברלין", "פריז", "רומא"], correct: 3, difficulty: "easy" },
            { question: "מי כתב את 'רומיאו ויוליה'?", options: ["צ'ארלס דיקנס", "ויליאם שייקספיר", "ג'יין אוסטן", "מארק טוויין"], correct: 2, difficulty: "easy" },
            { question: "כמה צלעות יש במשושה?", options: ["5", "6", "7", "8"], correct: 2, difficulty: "easy" },
            // כאן ממשיכים עם שאר השאלות בהתאם
        ];

        let currentQuestionIndex = 0;
        let currentScore = 0;
        let playerAnswers = [];
        let selectedQuestions = [];
        let players = [];
        let currentPlayerIndex = 0;

        function startQuiz() {
            const numQuestions = document.getElementById('num-questions').value;
            const difficulty = document.getElementById('difficulty').value;
            const playerNames = document.getElementById('player-names').value.split(',').map(name => name.trim());

            if (playerNames.length === 0) {
                alert("אנא הכנס שמות שחקנים.");
                return;
            }

            players = playerNames.map(name => ({ name, score: 0 }));
            filterQuestions(numQuestions, difficulty);
            document.querySelector('.setup-container').style.display = 'none';
            document.querySelector('.quiz-container').style.display = 'block';
            showQuestion();
        }

        function filterQuestions(numQuestions, difficulty) {
            selectedQuestions = questions.filter(q => difficulty === 'all' || q.difficulty === difficulty);
            selectedQuestions = selectedQuestions.sort(() => 0.5 - Math.random()).slice(0, numQuestions);
        }

        function showQuestion() {
            if (currentQuestionIndex < selectedQuestions.length) {
                document.getElementById('current-player').textContent = `שחקן נוכחי: ${players[currentPlayerIndex].name}`;
                const questionObj = selectedQuestions[currentQuestionIndex];
                document.getElementById('question').textContent = questionObj.question;
                const buttons = document.querySelectorAll('.options button');
                buttons.forEach((button, index) => {
                    button.textContent = questionObj.options[index];
                    button.disabled = false;
                });
                document.getElementById('feedback').style.display = 'none';
            } else {
                if (currentPlayerIndex < players.length - 1) {
                    currentPlayerIndex++;
                    currentQuestionIndex = 0;
                    showQuestion();
                } else {
                    showScore();
                }
            }
        }

        function checkAnswer(selectedOption) {
            const questionObj = selectedQuestions[currentQuestionIndex];
            const correctOption = questionObj.correct;

            if (selectedOption === correctOption) {
                document.getElementById('feedback').textContent = "כל הכבוד! תשובה נכונה!";
                document.getElementById('feedback').style.color = "green";
                players[currentPlayerIndex].score++;
            } else {
                document.getElementById('feedback').textContent = `טעות! התשובה הנכונה היא: ${questionObj.options[correctOption - 1]}`;
                document.getElementById('feedback').style.color = "red";
            }

            document.getElementById('feedback').style.display = 'block';
            currentQuestionIndex++;

            setTimeout(showQuestion, 2000);
        }

        function showScore() {
            document.querySelector('.quiz-container').style.display = 'none';
            document.querySelector('.score-report').style.display = 'block';

            let scoreSummary = "<h3>תוצאת החידון</h3>";
            players.forEach(player => {
                scoreSummary += `<p>${player.name}: ${player.score} תשובות נכונות.</p>`;
            });

            const winner = players.reduce((max, player) => max.score > player.score ? max : player);
            scoreSummary += `<h3>הזוכה הוא: ${winner.name} עם ${winner.score} תשובות נכונות!</h3>`;

            document.getElementById('score-report').innerHTML = scoreSummary;
        }
    </script>
</body>
</html>
